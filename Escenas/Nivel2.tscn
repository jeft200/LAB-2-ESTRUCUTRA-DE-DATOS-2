[gd_scene load_steps=10 format=3 uid="uid://cmr0f2xbjstqi"]

[ext_resource type="Texture2D" uid="uid://cl3arhql1e4uj" path="res://Mapas/Nodos/Nodo2.jpg" id="1_n64oi"]
[ext_resource type="PackedScene" uid="uid://ttrww0mrs8v6" path="res://personajes/player.tscn" id="2_33x1p"]
[ext_resource type="PackedScene" uid="uid://duj2nu5khdahg" path="res://Escenas/puerta.tscn" id="3_33x1p"]
[ext_resource type="Script" uid="uid://3li8b4i1fljn" path="res://Escenas/Llave1.gd" id="5_anv1u"]
[ext_resource type="Script" uid="uid://dn5lep2v7fsro" path="res://Escenas/SalaB.gd" id="5_dwoff"]
[ext_resource type="Texture2D" uid="uid://b82njyles1wpj" path="res://Mapas/Elementos/Generated_Image_November_18__2025_-_9_48AM-removebg-preview.png" id="6_f7dcq"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_6wegy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_anv1u"]
size = Vector2(1305, 884)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2h8lv"]
size = Vector2(104.094, 49.75)

[node name="Node2D" type="Node2D"]

[node name="StaticBody2D" type="StaticBody2D" parent="."]
physics_material_override = SubResource("PhysicsMaterial_6wegy")

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D"]
position = Vector2(652.5, 457)
scale = Vector2(1.03926, 1.10337)
texture = ExtResource("1_n64oi")

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(4, 4)
build_mode = 1
polygon = PackedVector2Array(-1, -6, -1.16559, 62.7129, -3, 824, 1253, 826, 1253, -3)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(9.61867, 3.50519)
scale = Vector2(1.0244, 1.07227)
build_mode = 1
polygon = PackedVector2Array(346, 18, 342, 52, 168.174, 57.7305, 69, 61, 68, 201, 15.0149, 199.106, 16, 288, 154, 284, 159.489, 586.135, 16.9673, 586.135, 20, 640, 85.2999, 642.092, 85, 807, 130, 805, 131.18, 685.924, 132.156, 679.396, 363.511, 678.463, 372, 793, 399, 796, 395.725, 720.43, 498.224, 718.565, 502, 798, 518, 801, 520.676, 789.443, 600.723, 793.173, 603, 805, 936, 807, 931.647, 693.385, 1179.6, 689.654, 1182, 747, 1207, 748, 1203, 594, 1099, 591, 1100.35, 460.385, 1102, 300, 1225, 305, 1226, 256, 1233, 114, 1177.64, 117.037, 1182, 107, 1154, 107, 1154, 217, 916, 217, 904, 201, 907, 79, 875, 80, 879, 128, 789, 134, 789, 59, 712, 59, 712, 27, 473, 24, 466, 126, 372, 128, 372, 20)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="StaticBody2D"]
build_mode = 1
polygon = PackedVector2Array(99, 119, 101, 226, 358, 234, 356, 123)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(19.5585, 61.9796)
scale = Vector2(1.0133, 0.977656)
build_mode = 1
polygon = PackedVector2Array(468.215, 511.448, 466.241, 694.54, 556.047, 701.7, 569, 683, 564.929, 713.974, 791.911, 711.928, 790, 630, 814.609, 638.283, 836, 621, 845.202, 683.288, 890.598, 683.288, 935.008, 685.334, 934.021, 532.928, 841.255, 534.974, 839.281, 611.688, 815.596, 626.008, 815.596, 538.043, 562.955, 533.951, 565, 511)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2(24, 31)
build_mode = 1
polygon = PackedVector2Array(406, 173, 404, 312, 484, 311, 484, 295, 491, 300, 787, 307, 796, 298, 796, 213, 790, 211, 794, 151, 507, 150, 507, 212, 489, 213, 489, 176)

[node name="Player" parent="." instance=ExtResource("2_33x1p")]

[node name="SalaB" type="Area2D" parent="."]
script = ExtResource("5_dwoff")

[node name="CollisionShape2D" type="CollisionShape2D" parent="SalaB"]
position = Vector2(642.5, 432)
shape = SubResource("RectangleShape2D_anv1u")

[node name="Area2D2" type="Area2D" parent="SalaB"]
script = ExtResource("5_anv1u")

[node name="GeneratedImageNovember182025-948am-removebg-preview" type="Sprite2D" parent="SalaB/Area2D2"]
position = Vector2(932, 381)
rotation = -1.57079
scale = Vector2(0.209603, 0.235042)
texture = ExtResource("6_f7dcq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="SalaB/Area2D2"]
position = Vector2(929, 381)
shape = SubResource("RectangleShape2D_2h8lv")

[node name="DetectionArea" parent="." instance=ExtResource("3_33x1p")]
position = Vector2(-236, 33)
collision_priority = 1.0
key_item_name = "Llave C"

[node name="Label" type="Label" parent="DetectionArea"]
offset_left = 1196.0
offset_top = 474.0
offset_right = 1326.0
offset_bottom = 545.0
rotation = -1.5848
text = "Puerta E"

[node name="DetectionArea2" parent="." instance=ExtResource("3_33x1p")]
position = Vector2(409, 1123)
rotation = -1.57079
collision_priority = 1.0
key_item_name = "Llave E"

[node name="DetectionArea3" parent="." instance=ExtResource("3_33x1p")]
position = Vector2(885, -252)
rotation = 1.57079
collision_priority = 1.0
key_item_name = "Llave D"

[node name="Label" type="Label" parent="."]
offset_left = 395.0
offset_top = 598.0
offset_right = 525.0
offset_bottom = 669.0
text = "Puerta C"

[connection signal="body_entered" from="SalaB" to="SalaB" method="_on_body_entered"]
